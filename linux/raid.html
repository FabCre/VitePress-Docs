<!DOCTYPE html>
<html lang="fr-FR" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Créer un RAID 1 | Reminder</title>
    <meta name="description" content="Helpers and reminders on a VitePress application">
    <link rel="preload stylesheet" href="/VitePress-Docs/assets/style.192b5067.css" as="style">
    <link rel="modulepreload" href="/VitePress-Docs/assets/chunks/virtual_search-data.ea0a010d.js">
    <link rel="modulepreload" href="/VitePress-Docs/assets/app.8a4f41fe.js">
    <link rel="modulepreload" href="/VitePress-Docs/assets/linux_raid.md.c625eee4.lean.js">
    
    <link rel="icon" type="image/x-icon" href="/public/favicon.ico">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-dfa83ff9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-95909ad5></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-95909ad5> Skip to content </a><!--]--><!----><header class="VPNav" data-v-dfa83ff9 data-v-5292f7d8><div class="VPNavBar has-sidebar" data-v-5292f7d8 data-v-f300cbe4><div class="container" data-v-f300cbe4><div class="title" data-v-f300cbe4><div class="VPNavBarTitle has-sidebar" data-v-f300cbe4 data-v-2b0d59c2><a class="title" href="/VitePress-Docs/" data-v-2b0d59c2><!--[--><!--]--><!--[--><img class="VPImage logo" src="/VitePress-Docs/manjaro.svg" alt data-v-ff8ace6f><!--]--><!--[-->Reminder<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f300cbe4><div class="curtain" data-v-f300cbe4></div><div class="content-body" data-v-f300cbe4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f300cbe4><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f300cbe4 data-v-af56e2d4><span id="main-nav-aria-label" class="visually-hidden" data-v-af56e2d4>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/VitePress-Docs/nvim/" data-v-af56e2d4 data-v-ed97c493 data-v-8f7dfdec><!--[-->Nvim<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/VitePress-Docs/git.html" data-v-af56e2d4 data-v-ed97c493 data-v-8f7dfdec><!--[-->Git<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/VitePress-Docs/linux/" data-v-af56e2d4 data-v-ed97c493 data-v-8f7dfdec><!--[-->Linux<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-af56e2d4 data-v-a3cca9ba><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a3cca9ba><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-a3cca9ba><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-a3cca9ba><div class="VPMenu" data-v-a3cca9ba data-v-44f96890><div class="items" data-v-44f96890><!--[--><!--[--><div class="VPMenuLink" data-v-44f96890 data-v-a5664333><a class="VPLink link" href="/VitePress-Docs/install/" data-v-a5664333 data-v-8f7dfdec><!--[-->Install<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-44f96890 data-v-a5664333><a class="VPLink link" href="/VitePress-Docs/vitepress/" data-v-a5664333 data-v-8f7dfdec><!--[-->Vitepress help<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-44f96890 data-v-a5664333><a class="VPLink link" href="/VitePress-Docs/cybersec/" data-v-a5664333 data-v-8f7dfdec><!--[-->CyberSec<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-44f96890 data-v-a5664333><a class="VPLink link" href="/VitePress-Docs/entretien/" data-v-a5664333 data-v-8f7dfdec><!--[-->Entretien<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-44f96890 data-v-a5664333><a class="VPLink link" href="/VitePress-Docs/sensor/" data-v-a5664333 data-v-8f7dfdec><!--[-->Sensor<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-44f96890 data-v-a5664333><a class="VPLink link" href="/VitePress-Docs/veille.html" data-v-a5664333 data-v-8f7dfdec><!--[-->Veille<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f300cbe4 data-v-47695040><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-47695040 data-v-6767b96a data-v-4f746a79><span class="check" data-v-4f746a79><span class="icon" data-v-4f746a79><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6767b96a><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6767b96a><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-f300cbe4 data-v-b12f8a5b data-v-a3cca9ba><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-a3cca9ba><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-a3cca9ba><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-a3cca9ba><div class="VPMenu" data-v-a3cca9ba data-v-44f96890><!----><!--[--><!--[--><!----><div class="group" data-v-b12f8a5b><div class="item appearance" data-v-b12f8a5b><p class="label" data-v-b12f8a5b>Appearance</p><div class="appearance-action" data-v-b12f8a5b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-b12f8a5b data-v-6767b96a data-v-4f746a79><span class="check" data-v-4f746a79><span class="icon" data-v-4f746a79><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6767b96a><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6767b96a><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f300cbe4 data-v-1ccf3b66><span class="container" data-v-1ccf3b66><span class="top" data-v-1ccf3b66></span><span class="middle" data-v-1ccf3b66></span><span class="bottom" data-v-1ccf3b66></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-dfa83ff9 data-v-2b1b9351><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2b1b9351><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-2b1b9351><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-2b1b9351>Menu</span></button><a class="top-link" href="#" data-v-2b1b9351>Return to top</a></div><aside class="VPSidebar" data-v-dfa83ff9 data-v-4ce0bd10><div class="curtain" data-v-4ce0bd10></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4ce0bd10><span class="visually-hidden" id="sidebar-aria-label" data-v-4ce0bd10> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-4ce0bd10><section class="VPSidebarItem level-0 has-active" data-v-4ce0bd10 data-v-abb8e6b0><div class="item" role="button" data-v-abb8e6b0><div class="indicator" data-v-abb8e6b0></div><a class="VPLink link" data-v-abb8e6b0 data-v-8f7dfdec><!--[--><h2 class="text" data-v-abb8e6b0>Linux</h2><!--]--><!----></a><!----></div><div class="items" data-v-abb8e6b0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-abb8e6b0 data-v-abb8e6b0><div class="item" data-v-abb8e6b0><div class="indicator" data-v-abb8e6b0></div><a class="VPLink link link" href="/VitePress-Docs/linux/index.html" data-v-abb8e6b0 data-v-8f7dfdec><!--[--><p class="text" data-v-abb8e6b0>Command</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abb8e6b0 data-v-abb8e6b0><div class="item" data-v-abb8e6b0><div class="indicator" data-v-abb8e6b0></div><a class="VPLink link link" href="/VitePress-Docs/linux/systemd.html" data-v-abb8e6b0 data-v-8f7dfdec><!--[--><p class="text" data-v-abb8e6b0>Systemd</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-abb8e6b0 data-v-abb8e6b0><div class="item" data-v-abb8e6b0><div class="indicator" data-v-abb8e6b0></div><a class="VPLink link link" href="/VitePress-Docs/linux/raid.html" data-v-abb8e6b0 data-v-8f7dfdec><!--[--><p class="text" data-v-abb8e6b0>RAID</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-abb8e6b0 data-v-abb8e6b0><div class="item" data-v-abb8e6b0><div class="indicator" data-v-abb8e6b0></div><a class="VPLink link link" href="/VitePress-Docs/linux/smart.html" data-v-abb8e6b0 data-v-8f7dfdec><!--[--><p class="text" data-v-abb8e6b0>SMART</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-dfa83ff9 data-v-6b4f7ebb><div class="VPDoc has-sidebar has-aside" data-v-6b4f7ebb data-v-29f46551><div class="container" data-v-29f46551><div class="aside" data-v-29f46551><div class="aside-curtain" data-v-29f46551></div><div class="aside-container" data-v-29f46551><div class="aside-content" data-v-29f46551><div class="VPDocAside" data-v-29f46551 data-v-6ec2fad3><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-6ec2fad3 data-v-4adf50f8><div class="content" data-v-4adf50f8><div class="outline-marker" data-v-4adf50f8></div><div class="outline-title" data-v-4adf50f8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-4adf50f8><span class="visually-hidden" id="doc-outline-aria-label" data-v-4adf50f8> Table of Contents for current page </span><ul class="root" data-v-4adf50f8 data-v-27c78d9b><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-6ec2fad3></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-29f46551><div class="content-container" data-v-29f46551><!--[--><!--]--><main class="main" data-v-29f46551><div style="position:relative;" class="vp-doc _VitePress-Docs_linux_raid" data-v-29f46551><div><h1 id="creer-un-raid-1" tabindex="-1">Créer un RAID 1 <a class="header-anchor" href="#creer-un-raid-1" aria-hidden="true">#</a></h1><h2 id="mdadm" tabindex="-1">Mdadm <a class="header-anchor" href="#mdadm" aria-hidden="true">#</a></h2><p>Installer mdadm si il n&#39;est pas disponible et activer le service.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mdadm</span></span>
<span class="line"></span></code></pre></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mdadm</span></span>
<span class="line"></span></code></pre></div><h2 id="checker-les-disques" tabindex="-1">Checker les disques <a class="header-anchor" href="#checker-les-disques" aria-hidden="true">#</a></h2><p>Avec un gestionnaire de partitions ou par fdisk.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Affiche les disques</span></span>
<span class="line"><span style="color:#FFCB6B;">fdisk</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-l</span></span>
<span class="line"></span></code></pre></div><p><img src="/VitePress-Docs/assets/disks-kde-1.89e8a377.png" alt="disks"></p><h2 id="creer-le-raid" tabindex="-1">Créer le raid <a class="header-anchor" href="#creer-le-raid" aria-hidden="true">#</a></h2><p>Dans l&#39;exemple, lancer la commande en choisissant le nom du raid <code>/dev/md***</code>.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mdadm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/md120</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--level=mirror</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--raid-devices=2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/sd[c-d]</span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span></code></pre></div><p><img src="/VitePress-Docs/assets/create-raid.dce23699.png" alt="disks"></p><p>Ensuite, la synchronisation des disques s&#39;effectue.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Pour voir l&#39;avancement</span></span>
<span class="line"><span style="color:#FFCB6B;">watch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/proc/mdstat</span></span>
<span class="line"></span></code></pre></div><p><img src="/VitePress-Docs/assets/watch-mdstat-sync.2dbc4d82.png" alt="disks"></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Pour voir les details du raid</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mdadm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--detail</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/md120</span></span>
<span class="line"></span></code></pre></div><h2 id="creer-et-chiffrer-le-raid" tabindex="-1">Creer et chiffrer le raid <a class="header-anchor" href="#creer-et-chiffrer-le-raid" aria-hidden="true">#</a></h2><p>Utiliser un outil comme KDE Gestionnaire de partition ou mkfs (via terminal).</p><p>Creer la partition ext4 avec un chiffrement luks. <img src="/VitePress-Docs/assets/partition-raid.68d25e70.png" alt="disks"></p><p>Definir un mot de passe. <img src="/VitePress-Docs/assets/luks-partition.153fe95a.png" alt="disks"></p><p><img src="/VitePress-Docs/assets/confirm-partition-luks.07119ca4.png" alt="disks"></p><p>Le raid est maintenant chiffre et peut etre monte. <img src="/VitePress-Docs/assets/finished-partition-luks.3ff2ae69.png" alt="disks"></p><p><img src="/VitePress-Docs/assets/properties-partition-luks.fa1ab3a2.png" alt="disks"></p><h2 id="monter-automatiquement-le-raid" tabindex="-1">Monter automatiquement le raid <a class="header-anchor" href="#monter-automatiquement-le-raid" aria-hidden="true">#</a></h2><h3 id="raid-non-chiffre" tabindex="-1">Raid non chiffre <a class="header-anchor" href="#raid-non-chiffre" aria-hidden="true">#</a></h3><p>Dans le fichier <code>/etc/fstab</code> ajouter une ligne a la fin du fichier avec les bonnes options :</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># /etc/fstab: static file system information.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Use &#39;blkid&#39; to print the universally unique identifier for a device; this may</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># be used with UUID= as a more robust way to name devices that works even if</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># disks are added and removed. See fstab(5).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># &lt;file system&gt;             &lt;mount point&gt;  &lt;type&gt;  &lt;options&gt;  &lt;dump&gt;  &lt;pass&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">UUID</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">E799-2B00</span><span style="color:#A6ACCD;">                            /boot/efi      vfat    umask</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0077</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/mapper/luks-7a4ad3ac-f22f-4567-9a1d-07d7b2e38178</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;">              </span><span style="color:#C3E88D;">ext4</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">defaults,noatime</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/md120</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/run/media/panda/d5afc656-bc4a-4b1a-800b-d24f2bb7bc9c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ext4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">defaults,nofail,discard</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span></code></pre></div><h3 id="raid-chiffre" tabindex="-1">Raid chiffre <a class="header-anchor" href="#raid-chiffre" aria-hidden="true">#</a></h3><p>Il n&#39;est pas considerer comme une bonne pratique de monte automatiquement un raid chiffre.</p><h2 id="en-cas-de-panne-d-un-disque-dur" tabindex="-1">En cas de panne d’un disque dur <a class="header-anchor" href="#en-cas-de-panne-d-un-disque-dur" aria-hidden="true">#</a></h2><p>Identifier le disque defaillant avec un SMART et le remplacer par un disque fonctionnel de la même taille. Il faut ensuite créé une nouvelle table de partition avec un seule partition non formatée, exactement comme si vous devez créer un RAID avec ce disque.</p><p>Ajouter le disque dans le RAID voulu <code>/dev/md***</code> :</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mdadm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--manage</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/md0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/sdc1</span></span>
<span class="line"></span></code></pre></div><h2 id="supprimer-un-raid" tabindex="-1">Supprimer un RAID <a class="header-anchor" href="#supprimer-un-raid" aria-hidden="true">#</a></h2><p>Stopper puis supprimer le raid.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">umount</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/md0</span></span>
<span class="line"></span></code></pre></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mdadm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--stop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/md0</span></span>
<span class="line"><span style="color:#FFCB6B;">mdadm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/md0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/sd</span><span style="color:#A6ACCD;">**</span></span>
<span class="line"><span style="color:#FFCB6B;">mdadm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/md0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/sd</span><span style="color:#A6ACCD;">**</span></span>
<span class="line"><span style="color:#FFCB6B;">mdadm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--zero-superblock</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/sd</span><span style="color:#A6ACCD;">**</span></span>
<span class="line"><span style="color:#FFCB6B;">mdadm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--zero-superblock</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/sd</span><span style="color:#A6ACCD;">**</span></span>
<span class="line"></span></code></pre></div><h2 id="vitesse-de-la-synchronisation-des-volumes" tabindex="-1">Vitesse de la synchronisation des volumes <a class="header-anchor" href="#vitesse-de-la-synchronisation-des-volumes" aria-hidden="true">#</a></h2><p>Augmenter la limite de la vitesse de synchronisation des volumes.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Définir une valeur maximale de 100MB/s</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000000</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/proc/sys/dev/raid/speed_limit_max</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Définir une valeur minimale de 10MB/s</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100000</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/proc/sys/dev/raid/speed_limit_min</span></span>
<span class="line"></span></code></pre></div></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-29f46551 data-v-536d018a><!----><div class="prev-next" data-v-536d018a><div class="pager" data-v-536d018a><a class="pager-link prev" href="/VitePress-Docs/linux/systemd.html" data-v-536d018a><span class="desc" data-v-536d018a>Previous page</span><span class="title" data-v-536d018a>Systemd</span></a></div><div class="has-prev pager" data-v-536d018a><a class="pager-link next" href="/VitePress-Docs/linux/smart.html" data-v-536d018a><span class="desc" data-v-536d018a>Next page</span><span class="title" data-v-536d018a>SMART</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"sensor_hardware.md\":\"444e35ec\",\"index.md\":\"69e84d5c\",\"veille.md\":\"71052561\",\"entretien_restapi.md\":\"e1dc7892\",\"vitepress_index.md\":\"0b361e3b\",\"nvim_index.md\":\"5b1d3e28\",\"git.md\":\"a8b2c129\",\"cybersec_moocanssi.md\":\"590f41d3\",\"install_index.md\":\"d5394782\",\"entretien_index.md\":\"01ce6f7c\",\"entretien_messaging.md\":\"31efa365\",\"entretien_angular.md\":\"ad5cee29\",\"entretien_bonnespratiques.md\":\"445d4ab3\",\"entretien_cicd.md\":\"1854df9e\",\"entretien_git.md\":\"ec0269db\",\"nvim_learn.md\":\"363fc7e7\",\"entretien_test.md\":\"302df238\",\"nvim_raccourcis.md\":\"bdc9baa6\",\"entretien_react.md\":\"0b6575bb\",\"entretien_dotnet.md\":\"df16dc13\",\"entretien_javascript.md\":\"1b50cc67\",\"entretien_rxjs.md\":\"b77de4e2\",\"sensor_index.md\":\"1baa8f99\",\"linux_systemd.md\":\"0668055a\",\"linux_index.md\":\"1ba159c9\",\"cybersec_rex2022.md\":\"8b793434\",\"entretien_typescript.md\":\"e93ab2a6\",\"linux_smart.md\":\"74fb59aa\",\"sensor_architecture.md\":\"bf7c1303\",\"cybersec_index.md\":\"ccd949b9\",\"linux_raid.md\":\"c625eee4\"}")</script>
    <script type="module" async src="/VitePress-Docs/assets/app.8a4f41fe.js"></script>
    
  </body>
</html>